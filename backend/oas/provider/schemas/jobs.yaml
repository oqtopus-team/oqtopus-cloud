jobs.JobId:
  type: string
  format: uuid
  example: "7af020f6-2e38-4d70-8cf0-4349650ea08c"

jobs.InternalJobStatus:
  type: string
  enum: ["submitted", "ready", "running", "success", "failed", "cancelled"]
  example: "submitted"

jobs.JobInfo:
  type: string
  example: "{'code': '{type: string, example: \"OPENQASM 3; qubit[2] q; bit[2] c; h q[0]; cnot q[0], q[1]; c = measure q;\"}', 'Operator': 'X 0 Y 1 Z 5 I 2', 'result': {'00': 5020, '11': 4980}, 'transpiledCode': '', 'reason': ''}"

jobs.TranspilerInfo:
  type: string
  example: "{'qubitAllocation': {'0': 12, '1': 16}, 'skipTranspilation': false, 'seedTranspilation': 873}"

jobs.SimulatorInfo:
  type: string
  example: "{'nQubits': 5, 'nNodes': 12, 'nPerNode': 2, 'seedSimulation': 39058567, 'simulationOpt': {'optimizationMethod': 'light', 'optimizationBlockSize': 1, 'optimizationSwapLevel': 1}}"

jobs.MitigationInfo:
  type: string
  example: "{'roErrorMitigation': 'pseudo_inverse'}"

jobs.JobDef:
  type: object
  properties:
    jobId:
      $ref: "#/jobs.JobId"
    description:
      type: string
      example: "Bell State Sampling"
    note:
      type: string
      example: "Bell State Sampling Example"
    device:
      type: string
      example: "Kawasaki"
    nShots:
      type: integer
      minimum: 1
      maximum: 1e7
      example: "1000"
    jobType:
      type: string
      example: "'sampling' or 'estimation', 'sse'"
    jobInfo:
      $ref: "#/jobs.JobInfo"
    transpilerInfo:
      $ref: "#/jobs.TranspilerInfo"
    simulatorInfo:
      $ref: "#/jobs.SimulatorInfo"
    mitigationInfo:
      $ref: "#/jobs.MitigationInfo"
    status:
      $ref: "#/jobs.JobStatus"
    createdAt:
      type: string
      format: date-time
      example: "2022-10-19T11:45:34+09:00"
  required: [
    device, nShots, status, createdAt
  ]
  example:
    {
      jobId: "7af020f6-2e38-4d70-8cf0-4349650ea08c",
      description: "Bell State Sampling",
      note: "Bell State Sampling Example",
      device: "Kawasaki",
      nShots: 1000,
      jobInfo: "{'code': '{type: string, example: \"OPENQASM 3; qubit[2] q; bit[2] c; h q[0]; cnot q[0], q[1]; c = measure q;\"}', 'Operator': 'X 0 Y 1 Z 5 I 2'}",
      transpilerInfo: "{'qubitAllocation': {'0': 12, '1': 16}, 'skipTranspilation': false, 'seedTranspilation': 873}",
      simulatorInfo: "{'nQubits': 5, 'nNodes': 12, 'nPerNode': 2, 'seedSimulation': 39058567, 'simulationOpt': {'optimizationMethod': 'light', 'optimizationBlockSize': 1, 'optimizationSwapLevel': 1}}",
      mitigationInfo: "{'roErrorMitigation': 'pseudo_inverse'}",
      status: "submitted",
      createdAt: "2022-10-19T11:45:34+09:00"
    }

jobs.JobStatusUpdate:
  type: object
  properties:
    status:
      type: string
      enum: ["RUNNING"]
      example: "RUNNING"
  required: [
    status
  ]

jobs.JobStatusUpdateResponse:
  type: object
  properties:
    message:
      type: string
  required:
    - message

jobs.UnfetchedJobsResponse:
  type: array
  items:
    oneOf:
      - $ref: '#/jobs.JobInfo'
      - $ref: '#/jobs.JobId'

jobs.InternalFetchableJobStatus:
  type: string
  enum: ["QUEUED", "CANCELLING"]
  example: "QUEUED"

