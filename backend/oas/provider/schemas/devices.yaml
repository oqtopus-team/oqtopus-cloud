devices.DeviceDataUpdate:
  discriminator:
    propertyName: command
    mapping:
      DeviceStatusUpdate: '#/devices.DeviceStatusUpdate'
      DevicePendingTasksUpdate: '#/devices.DevicePendingTasksUpdate'
      DeviceCalibrationUpdate: '#/devices.DeviceCalibrationUpdate'
  oneOf:
  - $ref: '#/devices.DeviceStatusUpdate'
  - $ref: '#/devices.DevicePendingTasksUpdate'
  - $ref: '#/devices.DeviceCalibrationUpdate'


devices.DeviceDataUpdateResponse:
  type: object
  properties:
    message:
      type: string
      default: "Device's data updated"
      example: "Device's data updated"
  required:
    - message

devices.DeviceStatusUpdate:
      type: object
      properties:
        command:
          type: string
          example: DeviceStatusUpdate
        status:
          type: string
          enum: ["available", "unavailable"]
        available_at:
          description: "Parameter mandatory and valid for status 'unavailable'"
          type: string
          format: date-time
          example: "2023-09-10T14:00:00+09:00"

devices.DevicePendingTasksUpdate:
      type: object
      properties:
        command:
          type: string
          example: DevicePendingTasksUpdate
        n_pending_tasks:
          type: integer

devices.DeviceCalibrationUpdate:
      type: object
      properties:
        command:
          type: string
          example: DeviceCalibrationUpdate
        device_info:
          description: "json format calibration_data and n_nodes etc"
          type: string
          example: "{'n_nodes': 512, 'calibration_data': {'qubit_connectivity': ['(1,4)', '(4,5)', '(5,8)'], 't1': {'0': 55.51, '1': 37.03, '2': 57.13}}"
        calibrated_at:
          description: "Parameter mandatory and valid if calibrationData not null"
          type: string
          format: date-time
          example: "2023-09-10T14:00:00+09:00"
