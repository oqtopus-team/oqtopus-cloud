{"name":"main","desc":"","tables":[{"name":"devices","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"varchar(64)","nullable":false,"default":null,"comment":""},{"name":"device_type","type":"enum('QPU','simulator')","nullable":false,"default":null,"comment":""},{"name":"status","type":"enum('AVAILABLE','NOT_AVAILABLE')","nullable":false,"default":"NOT_AVAILABLE","comment":""},{"name":"restart_at","type":"datetime","nullable":true,"default":null,"comment":""},{"name":"pending_tasks","type":"int","nullable":false,"default":"0","comment":""},{"name":"n_qubits","type":"int","nullable":false,"default":null,"comment":""},{"name":"n_nodes","type":"int","nullable":true,"default":null,"comment":""},{"name":"basis_gates","type":"varchar(256)","nullable":false,"default":null,"comment":""},{"name":"instructions","type":"varchar(64)","nullable":false,"default":null,"comment":""},{"name":"calibration_data","type":"text","nullable":true,"default":null,"comment":""},{"name":"calibrated_at","type":"datetime","nullable":true,"default":null,"comment":""},{"name":"description","type":"varchar(128)","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"devices","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"devices","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `devices` (\n  `id` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `device_type` enum('QPU','simulator') COLLATE utf8mb4_unicode_ci NOT NULL,\n  `status` enum('AVAILABLE','NOT_AVAILABLE') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'NOT_AVAILABLE',\n  `restart_at` datetime DEFAULT NULL,\n  `pending_tasks` int NOT NULL DEFAULT '0',\n  `n_qubits` int NOT NULL,\n  `n_nodes` int DEFAULT NULL,\n  `basis_gates` varchar(256) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `instructions` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `calibration_data` text COLLATE utf8mb4_unicode_ci,\n  `calibrated_at` datetime DEFAULT NULL,\n  `description` varchar(128) COLLATE utf8mb4_unicode_ci NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci"},{"name":"results","type":"BASE TABLE","comment":"","columns":[{"name":"task_id","type":"varbinary(16)","nullable":false,"default":null,"comment":""},{"name":"status","type":"enum('SUCCESS','FAILURE','CANCELLED')","nullable":false,"default":null,"comment":""},{"name":"result","type":"text","nullable":true,"default":null,"comment":""},{"name":"reason","type":"text","nullable":true,"default":null,"comment":""},{"name":"transpiled_code","type":"text","nullable":true,"default":null,"comment":""},{"name":"qubit_allocation","type":"text","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (task_id) USING BTREE","table":"results","columns":["task_id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (task_id)","table":"results","referenced_table":null,"columns":["task_id"],"referenced_columns":null,"comment":""},{"name":"results_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (task_id) REFERENCES tasks (id)","table":"results","referenced_table":"tasks","columns":["task_id"],"referenced_columns":["id"],"comment":""}],"triggers":[{"name":"update_tasks_status_trigger","def":"CREATE TRIGGER update_tasks_status_trigger AFTER INSERT ON results\nFOR EACH ROW\nBEGIN\n\tIF NEW.status = 'SUCCESS' THEN\n  \t\tUPDATE main.tasks SET status = 'COMPLETED' WHERE id = NEW.task_id;\n  \tELSEIF NEW.status = 'FAILURE' THEN\n  \t\tUPDATE main.tasks SET status = 'FAILED' WHERE id = NEW.task_id;\n  \tELSEIF NEW.status = 'CANCELLED' THEN\n  \t\tUPDATE main.tasks SET status = 'CANCELLED' WHERE id = NEW.task_id;\n  \tEND IF;\nEND","comment":""}],"def":"CREATE TABLE `results` (\n  `task_id` varbinary(16) NOT NULL,\n  `status` enum('SUCCESS','FAILURE','CANCELLED') COLLATE utf8mb4_unicode_ci NOT NULL,\n  `result` text COLLATE utf8mb4_unicode_ci,\n  `reason` text COLLATE utf8mb4_unicode_ci,\n  `transpiled_code` text COLLATE utf8mb4_unicode_ci,\n  `qubit_allocation` text COLLATE utf8mb4_unicode_ci,\n  PRIMARY KEY (`task_id`),\n  CONSTRAINT `results_ibfk_1` FOREIGN KEY (`task_id`) REFERENCES `tasks` (`id`) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci"},{"name":"tasks","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"varbinary(16)","nullable":false,"default":null,"comment":""},{"name":"owner","type":"varchar(64)","nullable":false,"default":null,"comment":""},{"name":"name","type":"varchar(256)","nullable":true,"default":null,"comment":""},{"name":"device","type":"varchar(64)","nullable":false,"default":null,"comment":""},{"name":"n_qubits","type":"int","nullable":true,"default":null,"comment":""},{"name":"n_nodes","type":"int","nullable":true,"default":null,"comment":""},{"name":"code","type":"text","nullable":false,"default":null,"comment":""},{"name":"action","type":"enum('sampling','estimation')","nullable":false,"default":null,"comment":""},{"name":"method","type":"enum('state_vector','sampling')","nullable":true,"default":null,"comment":""},{"name":"shots","type":"int","nullable":true,"default":null,"comment":""},{"name":"operator","type":"varchar(1024)","nullable":true,"default":null,"comment":""},{"name":"qubit_allocation","type":"text","nullable":true,"default":null,"comment":""},{"name":"skip_transpilation","type":"tinyint(1)","nullable":false,"default":"0","comment":""},{"name":"seed_transpilation","type":"int","nullable":true,"default":null,"comment":""},{"name":"seed_simulation","type":"int","nullable":true,"default":null,"comment":""},{"name":"n_per_node","type":"int unsigned","nullable":true,"default":null,"comment":""},{"name":"simulation_opt","type":"text","nullable":true,"default":null,"comment":""},{"name":"ro_error_mitigation","type":"enum('none','pseudo_inverse','least_square')","nullable":true,"default":null,"comment":""},{"name":"note","type":"varchar(1024)","nullable":true,"default":null,"comment":""},{"name":"status","type":"enum('QUEUED','RUNNING','COMPLETED','FAILED','CANCELLING','CANCELLED')","nullable":false,"default":"QUEUED","comment":""},{"name":"created_at","type":"timestamp","nullable":true,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":""}],"indexes":[{"name":"device","def":"KEY device (device) USING BTREE","table":"tasks","columns":["device"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"tasks","columns":["id"],"comment":""}],"constraints":[{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"tasks","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""},{"name":"tasks_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (device) REFERENCES devices (id)","table":"tasks","referenced_table":"devices","columns":["device"],"referenced_columns":["id"],"comment":""}],"triggers":[],"def":"CREATE TABLE `tasks` (\n  `id` varbinary(16) NOT NULL,\n  `owner` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `name` varchar(256) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `device` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `n_qubits` int DEFAULT NULL,\n  `n_nodes` int DEFAULT NULL,\n  `code` text COLLATE utf8mb4_unicode_ci NOT NULL,\n  `action` enum('sampling','estimation') COLLATE utf8mb4_unicode_ci NOT NULL,\n  `method` enum('state_vector','sampling') COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `shots` int DEFAULT NULL,\n  `operator` varchar(1024) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `qubit_allocation` text COLLATE utf8mb4_unicode_ci,\n  `skip_transpilation` tinyint(1) NOT NULL DEFAULT '0',\n  `seed_transpilation` int DEFAULT NULL,\n  `seed_simulation` int DEFAULT NULL,\n  `n_per_node` int unsigned DEFAULT NULL,\n  `simulation_opt` text COLLATE utf8mb4_unicode_ci,\n  `ro_error_mitigation` enum('none','pseudo_inverse','least_square') COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `note` varchar(1024) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `status` enum('QUEUED','RUNNING','COMPLETED','FAILED','CANCELLING','CANCELLED') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'QUEUED',\n  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `device` (`device`),\n  CONSTRAINT `tasks_ibfk_1` FOREIGN KEY (`device`) REFERENCES `devices` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci"}],"relations":[{"table":"results","columns":["task_id"],"cardinality":"Zero or one","parent_table":"tasks","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (task_id) REFERENCES tasks (id)","virtual":false},{"table":"tasks","columns":["device"],"cardinality":"Zero or more","parent_table":"devices","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (device) REFERENCES devices (id)","virtual":false}],"functions":[],"driver":{"name":"mysql","database_version":"8.0.37","meta":{"dict":{"Functions":"Stored procedures and functions"}}}}
